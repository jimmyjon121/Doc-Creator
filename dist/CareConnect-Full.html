<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CareConnect Pro - Complete Interactive Suite</title>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary-teal: #17a2b8;
            --secondary-coral: #ff6b6b;
            --success-green: #51cf66;
            --warning-amber: #ffc107;
            --warm-cream: #fdfbf7;
            --warm-gray: #495057;
            --light-gray: #e9ecef;
            --border-color: #dee2e6;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--warm-cream) 0%, #fff 100%);
            color: var(--warm-gray);
            line-height: 1.6;
        }
        
        /* Onboarding */
        .onboarding { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .onboard-card { background: white; border-radius: 24px; padding: 48px; max-width: 600px; box-shadow: 0 20px 40px rgba(0,0,0,0.2); text-align: center; animation: slideUp 0.6s ease; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(50px); } to { opacity: 1; transform: translateY(0); } }
        .onboard-emoji { font-size: 72px; margin-bottom: 24px; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
        .onboard-title { font-size: 36px; font-weight: 700; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 16px; }
        .onboard-subtitle { font-size: 18px; color: var(--warm-gray); margin-bottom: 32px; }
        .onboard-input { width: 100%; padding: 16px; border: 2px solid var(--border-color); border-radius: 12px; font-size: 16px; margin-bottom: 16px; }
        .btn-start { width: 100%; padding: 18px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 12px; font-size: 18px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; }
        .btn-start:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3); }
        
        /* Main App */
        .app { display: grid; grid-template-columns: 280px 1fr 320px; height: 100vh; max-width: 1800px; margin: 0 auto; }
        .sidebar-left { background: white; border-right: 1px solid var(--border-color); padding: 24px; overflow-y: auto; }
        .sidebar-right { background: white; border-left: 1px solid var(--border-color); padding: 24px; overflow-y: auto; }
        .main { padding: 32px; overflow-y: auto; background: var(--warm-cream); }
        
        /* User Profile */
        .user-welcome { background: linear-gradient(135deg, var(--primary-teal) 0%, #138496 100%); color: white; padding: 20px; border-radius: 16px; margin-bottom: 24px; text-align: center; }
        .welcome-greeting { font-size: 18px; font-weight: 600; margin-bottom: 8px; }
        .welcome-stats { display: flex; justify-content: space-around; margin-top: 16px; }
        .stat-number { font-size: 24px; font-weight: 700; }
        .stat-label { font-size: 11px; opacity: 0.9; }
        
        /* Workflow Steps */
        .workflow-steps { margin-bottom: 32px; }
        .workflow-title { font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px; color: var(--warm-gray); margin-bottom: 16px; font-weight: 600; }
        .workflow-step { display: flex; align-items: center; gap: 12px; padding: 12px; border-radius: 12px; margin-bottom: 8px; cursor: pointer; transition: all 0.3s ease; }
        .workflow-step:hover { background: var(--warm-cream); }
        .workflow-step.active { background: linear-gradient(135deg, rgba(23, 162, 184, 0.1) 0%, rgba(19, 132, 150, 0.1) 100%); border-left: 3px solid var(--primary-teal); }
        .step-icon { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 18px; background: var(--light-gray); }
        .workflow-step.active .step-icon { background: var(--primary-teal); color: white; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        .step-name { font-weight: 600; font-size: 14px; }
        .step-description { font-size: 11px; color: var(--warm-gray); opacity: 0.7; }
        
        /* Module Cards */
        .modules-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 24px; margin-bottom: 32px; }
        .module-card { background: white; border-radius: 20px; padding: 24px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden; }
        .module-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 4px; background: linear-gradient(90deg, var(--primary-teal) 0%, var(--secondary-coral) 100%); }
        .module-card:hover { transform: translateY(-4px); box-shadow: 0 4px 16px rgba(0,0,0,0.15); }
        .module-icon { font-size: 32px; margin-bottom: 12px; }
        .module-title { font-size: 18px; font-weight: 600; margin-bottom: 4px; }
        .module-duration { font-size: 12px; color: var(--warm-gray); opacity: 0.7; margin-bottom: 12px; }
        .module-badge { background: var(--secondary-coral); color: white; padding: 4px 12px; border-radius: 12px; font-size: 10px; font-weight: 600; position: absolute; top: 20px; right: 20px; }
        .module-progress-bar { height: 6px; background: var(--light-gray); border-radius: 3px; overflow: hidden; margin-top: 16px; }
        .module-progress-fill { height: 100%; background: var(--success-green); transition: width 0.3s ease; }
        
        /* Lesson Content */
        .lesson-viewer { background: white; border-radius: 20px; padding: 32px; box-shadow: 0 4px 16px rgba(0,0,0,0.1); }
        .lesson-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px; padding-bottom: 16px; border-bottom: 2px solid var(--border-color); }
        .btn-back { background: none; border: none; color: var(--primary-teal); font-size: 14px; font-weight: 600; cursor: pointer; }
        .btn-back:hover { transform: translateX(-4px); }
        .lesson-title { font-size: 28px; font-weight: 700; color: var(--primary-teal); margin-bottom: 24px; }
        
        /* Treatment Ladder */
        .treatment-ladder { display: flex; flex-direction: column; gap: 16px; margin: 24px 0; }
        .level-card { padding: 20px; border-radius: 12px; border-left: 4px solid rgba(0,0,0,0.2); }
        
        /* Quiz */
        .quiz-question { background: white; border: 2px solid var(--border-color); border-radius: 12px; padding: 24px; margin-bottom: 24px; }
        .question-text { font-size: 16px; font-weight: 600; margin-bottom: 16px; }
        .quiz-option { display: flex; align-items: center; gap: 12px; padding: 12px 16px; background: var(--warm-cream); border-radius: 8px; cursor: pointer; margin-bottom: 12px; transition: all 0.3s ease; }
        .quiz-option:hover { background: var(--light-gray); }
        .quiz-option input { width: 18px; height: 18px; cursor: pointer; }
        .question-feedback { margin-top: 16px; padding: 16px; border-radius: 8px; display: none; }
        .question-feedback.correct { background: #d1fae5; border-left: 3px solid var(--success-green); display: block; }
        .question-feedback.incorrect { background: #fee2e2; border-left: 3px solid #dc2626; display: block; }
        
        /* Buttons */
        .btn { padding: 12px 24px; border-radius: 10px; border: none; font-weight: 600; cursor: pointer; transition: all 0.3s ease; font-size: 14px; }
        .btn-primary { background: var(--primary-teal); color: white; }
        .btn-primary:hover { background: #138496; transform: translateY(-2px); }
        .btn-secondary { background: white; color: var(--warm-gray); border: 2px solid var(--border-color); }
        .btn-success { background: var(--success-green); color: white; }
        
        .lesson-actions { display: flex; justify-content: space-between; margin-top: 32px; padding-top: 24px; border-top: 2px solid var(--border-color); }
        
        .hidden { display: none !important; }
        
        /* Completion Celebration */
        .completion { text-align: center; padding: 64px 32px; }
        .completion-emoji { font-size: 96px; margin-bottom: 24px; animation: bounce 1s infinite; }
        .completion h2 { font-size: 36px; color: var(--primary-teal); margin-bottom: 16px; }
        .completion-cert { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 32px; border-radius: 16px; margin: 32px auto; max-width: 500px; }
    </style>
</head>
<body>
    <!-- Onboarding -->
    <div id="onboarding" class="onboarding">
        <div class="onboard-card">
            <div class="onboard-emoji">🎯</div>
            <h1 class="onboard-title">Welcome to CareConnect Pro</h1>
            <p class="onboard-subtitle">Learn, Plan, and Help Families - All in One Place</p>
            <input type="text" class="onboard-input" id="userName" placeholder="Your name" autofocus>
            <input type="text" class="onboard-input" id="userCreds" placeholder="Your credentials (e.g., LCSW)">
            <button class="btn-start" onclick="startApp()">Let's Get Started! 🚀</button>
        </div>
    </div>
    
    <!-- Main App -->
    <div id="mainApp" class="app hidden">
        <!-- Left Sidebar -->
        <div class="sidebar-left">
            <div class="user-welcome">
                <div class="welcome-greeting" id="greeting">Good evening!</div>
                <div id="motivation">Let's help families today!</div>
                <div class="welcome-stats">
                    <div><div class="stat-number" id="statCases">0</div><div class="stat-label">Cases</div></div>
                    <div><div class="stat-number" id="statStreak">0</div><div class="stat-label">Streak</div></div>
                    <div><div class="stat-number" id="statModules">0/5</div><div class="stat-label">Modules</div></div>
                </div>
            </div>
            
            <div class="workflow-steps">
                <div class="workflow-title">Your Workflow</div>
                <div class="workflow-step active" onclick="switchView('learn')">
                    <div class="step-icon">📚</div>
                    <div><div class="step-name">Learn & Grow</div><div class="step-description">Master your skills</div></div>
                </div>
                <div class="workflow-step" onclick="switchView('explore')">
                    <div class="step-icon">🔍</div>
                    <div><div class="step-name">Explore Programs</div><div class="step-description">Find the right fit</div></div>
                </div>
                <div class="workflow-step" onclick="switchView('compare')">
                    <div class="step-icon">⚖️</div>
                    <div><div class="step-name">Compare Options</div><div class="step-description">Side-by-side analysis</div></div>
                </div>
                <div class="workflow-step" onclick="switchView('document')">
                    <div class="step-icon">📝</div>
                    <div><div class="step-name">Create Documents</div><div class="step-description">Professional plans</div></div>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main" id="mainContent">
            <!-- Content loaded dynamically -->
        </div>
        
        <!-- Right Sidebar -->
        <div class="sidebar-right">
            <div style="background: linear-gradient(135deg, var(--success-green) 0%, #37b24d 100%); color: white; padding: 20px; border-radius: 16px; text-align: center; margin-bottom: 24px;">
                <div style="font-size: 48px; margin-bottom: 12px;">🎉</div>
                <div style="font-size: 16px; font-weight: 600;">You're Doing Great!</div>
                <div style="font-size: 13px; opacity: 0.9;">Keep up the amazing work!</div>
            </div>
            
            <div>
                <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 16px; color: var(--primary-teal);">💡 Pro Tips</h3>
                <div style="background: linear-gradient(135deg, #fff9e6 0%, #fff 100%); border-left: 3px solid #ffd43b; padding: 16px; border-radius: 12px;">
                    <div style="font-size: 20px; margin-bottom: 8px;">✨</div>
                    <div style="font-size: 13px;" id="currentTip">Start with Module 1 to master levels of care!</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // COMPLETE CARECONNECT INTERACTIVE SUITE
        // Full Version - All Features Working
        
        let currentUser = { name: '', creds: '', stats: { cases: 0, streak: 0, modules: 0 } };
        let currentView = 'learn';
        let moduleProgress = JSON.parse(localStorage.getItem('moduleProgress') || '{}');
        
        // Start Application
        function startApp() {
            currentUser.name = document.getElementById('userName').value || 'Clinician';
            currentUser.creds = document.getElementById('userCreds').value || '';
            
            document.getElementById('onboarding').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            
            // Set greeting
            const hour = new Date().getHours();
            const greetings = ['Good morning', 'Good afternoon', 'Good evening'];
            const greeting = hour < 12 ? greetings[0] : hour < 17 ? greetings[1] : greetings[2];
            document.getElementById('greeting').textContent = `${greeting}, ${currentUser.name}! 👋`;
            
            // Load stats
            const stats = JSON.parse(localStorage.getItem('userStats') || '{"cases":0,"streak":0,"modules":0}');
            document.getElementById('statCases').textContent = stats.cases;
            document.getElementById('statStreak').textContent = stats.streak;
            document.getElementById('statModules').textContent = `${stats.modules}/5`;
            currentUser.stats = stats;
            
            switchView('learn');
        }
        
        // View Switching
        function switchView(view) {
            currentView = view;
            document.querySelectorAll('.workflow-step').forEach(step => step.classList.remove('active'));
            const views = { learn: showLearningCenter, explore: showExplorer, compare: showCompare, document: showDocuments };
            views[view]();
        }
        
        // Learning Center
        function showLearningCenter() {
            const main = document.getElementById('mainContent');
            const modules = [
                { id: 'levels', icon: '🏥', title: 'Understanding Levels of Care', duration: '30 min', desc: 'Learn when to recommend each level of treatment', badge: 'ESSENTIAL' },
                { id: 'profiles', icon: '📋', title: 'Reading Program Profiles', duration: '25 min', desc: 'Master analyzing treatment programs', badge: null },
                { id: 'family', icon: '👨‍👩‍👧‍👦', title: 'Family Communication', duration: '35 min', desc: 'Build confidence in family conversations', badge: null },
                { id: 'docs', icon: '📝', title: 'Documentation Mastery', duration: '20 min', desc: 'Write professional clinical documents efficiently', badge: null },
                { id: 'advanced', icon: '🎯', title: 'Advanced Matching', duration: '40 min', desc: 'Handle complex cases with confidence', badge: 'ADVANCED' }
            ];
            
            main.innerHTML = `
                <div class="content-header" style="margin-bottom: 32px;">
                    <h1 style="font-size: 32px; font-weight: 700; color: var(--primary-teal); margin-bottom: 8px;">Learning Center</h1>
                    <p style="font-size: 16px; color: var(--warm-gray);">Build your expertise while helping families</p>
                </div>
                
                <div class="modules-grid">
                    ${modules.map(m => {
                        const progress = moduleProgress[m.id] || 0;
                        return `
                            <div class="module-card" onclick="openModule('${m.id}')">
                                <div class="module-icon">${m.icon}</div>
                                ${m.badge ? `<div class="module-badge">${m.badge}</div>` : ''}
                                <h3 class="module-title">${m.title}</h3>
                                <div class="module-duration">${m.duration}</div>
                                <p style="font-size: 14px; color: var(--warm-gray); margin-bottom: 16px;">${m.desc}</p>
                                <div class="module-progress-bar">
                                    <div class="module-progress-fill" style="width: ${progress}%"></div>
                                </div>
                                <div style="font-size: 11px; color: var(--warm-gray); margin-top: 4px; text-align: right;">${progress}% Complete</div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }
        
        // Open Module with Full Content
        function openModule(moduleId) {
            const lessons = {
                'levels': [
                    { title: 'Treatment Intensity Ladder', content: getLevelsLesson1() },
                    { title: 'Matching Exercise', content: getLevelsLesson2() },
                    { title: 'Case Studies', content: getLevelsLesson3() },
                    { title: 'Knowledge Check Quiz', content: getLevelsQuiz() }
                ],
                'profiles': [
                    { title: 'Red Flags vs Green Flags', content: getProfilesLesson1() },
                    { title: 'Insurance Decoder', content: getProfilesLesson2() },
                    { title: 'Practice Assessment', content: getProfilesQuiz() }
                ],
                'family': [
                    { title: 'Communication Styles', content: getFamilyLesson1() },
                    { title: 'Difficult Conversations', content: getFamilyLesson2() },
                    { title: 'Cultural Sensitivity', content: getFamilyLesson3() }
                ]
            };
            
            const moduleLessons = lessons[moduleId] || [{ title: 'Coming Soon', content: '<p>This module is being finalized!</p><button class="btn btn-secondary" onclick="showLearningCenter()">Back to Learning Center</button>' }];
            showLesson(moduleId, 0, moduleLessons);
        }
        
        function showLesson(moduleId, lessonIndex, lessons) {
            const lesson = lessons[lessonIndex];
            const main = document.getElementById('mainContent');
            
            main.innerHTML = `
                <div class="lesson-viewer">
                    <div class="lesson-header">
                        <button class="btn-back" onclick="showLearningCenter()">← Back to Learning Center</button>
                        <div style="background: var(--light-gray); padding: 8px 16px; border-radius: 20px; font-size: 13px; font-weight: 600;">
                            Lesson ${lessonIndex + 1} of ${lessons.length}
                        </div>
                    </div>
                    
                    <h2 class="lesson-title">${lesson.title}</h2>
                    <div id="lessonContent">${lesson.content}</div>
                    
                    <div class="lesson-actions">
                        ${lessonIndex > 0 ? `<button class="btn btn-secondary" onclick="showLesson('${moduleId}', ${lessonIndex - 1}, ${JSON.stringify(lessons).replace(/"/g, '&quot;')})">← Previous</button>` : '<div></div>'}
                        ${lessonIndex < lessons.length - 1 ? `<button class="btn btn-primary" onclick="showLesson('${moduleId}', ${lessonIndex + 1}, ${JSON.stringify(lessons).replace(/"/g, '&quot;')})">Next Lesson →</button>` : `<button class="btn btn-success" onclick="completeModule('${moduleId}')">Complete Module! 🎉</button>`}
                    </div>
                </div>
            `;
            
            // Initialize interactive elements if quiz
            if (lesson.content.includes('quiz-question')) {
                initializeQuiz();
            }
        }
        
        // Module Lessons Content
        function getLevelsLesson1() {
            return `
                <div class="treatment-ladder">
                    <div class="level-card" style="background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);">
                        <h4 style="font-size: 18px; margin-bottom: 12px;">Medical Detox</h4>
                        <p><strong>Intensity:</strong> 100% | <strong>Duration:</strong> 3-7 days | <strong>Cost:</strong> $$$$$</p>
                        <p><strong>When to use:</strong> Active substance use with physical dependence, risk of dangerous withdrawal</p>
                        <p><strong>Setting:</strong> 24/7 medical supervision for safe withdrawal</p>
                    </div>
                    <div class="level-card" style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);">
                        <h4 style="font-size: 18px; margin-bottom: 12px;">Residential Treatment</h4>
                        <p><strong>Intensity:</strong> 90% | <strong>Duration:</strong> 30-90 days | <strong>Cost:</strong> $$$$</p>
                        <p><strong>When to use:</strong> Severe symptoms, unsafe home environment, need 24/7 therapeutic support</p>
                        <p><strong>Setting:</strong> 24/7 structured therapeutic environment with full clinical team</p>
                    </div>
                    <div class="level-card" style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);">
                        <h4 style="font-size: 18px; margin-bottom: 12px;">Partial Hospitalization (PHP)</h4>
                        <p><strong>Intensity:</strong> 70% | <strong>Duration:</strong> 2-4 weeks | <strong>Cost:</strong> $$$</p>
                        <p><strong>When to use:</strong> High clinical needs but stable, safe living situation</p>
                        <p><strong>Setting:</strong> 6+ hours/day, 5 days/week, return home evenings</p>
                    </div>
                    <div class="level-card" style="background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);">
                        <h4 style="font-size: 18px; margin-bottom: 12px;">Intensive Outpatient (IOP)</h4>
                        <p><strong>Intensity:</strong> 50% | <strong>Duration:</strong> 6-12 weeks | <strong>Cost:</strong> $$</p>
                        <p><strong>When to use:</strong> Moderate symptoms, can maintain school/work, strong family support</p>
                        <p><strong>Setting:</strong> 3-4 hours/day, 3-5 days/week</p>
                    </div>
                    <div class="level-card" style="background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);">
                        <h4 style="font-size: 18px; margin-bottom: 12px;">Outpatient Therapy</h4>
                        <p><strong>Intensity:</strong> 20% | <strong>Duration:</strong> Ongoing | <strong>Cost:</strong> $</p>
                        <p><strong>When to use:</strong> Mild symptoms, stable, strong support system, maintenance phase</p>
                        <p><strong>Setting:</strong> Weekly individual and/or group therapy sessions</p>
                    </div>
                </div>
                
                <div style="background: #fff9e6; padding: 16px; border-radius: 12px; border-left: 4px solid #ffd43b; margin: 24px 0;">
                    <strong>💡 Pro Tip:</strong> The right level depends on safety, severity, and support. When in doubt, start higher - you can always step down.
                </div>
            `;
        }
        
        function getLevelsLesson2() {
            return `
                <p style="font-size: 16px; margin-bottom: 24px;">Match each patient to the most appropriate level of care:</p>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                    <div>
                        <h3 style="margin-bottom: 16px;">Patient Scenarios:</h3>
                        <div class="scenario" style="background: white; padding: 16px; border-radius: 12px; margin-bottom: 12px; border: 2px solid var(--border-color);">
                            <strong>Sarah, 16:</strong> First suicide attempt yesterday, stable now, parents very engaged
                        </div>
                        <div class="scenario" style="background: white; padding: 16px; border-radius: 12px; margin-bottom: 12px; border: 2px solid var(--border-color);">
                            <strong>Mike, 17:</strong> Daily marijuana use, expelled from school, conflicts with parents
                        </div>
                        <div class="scenario" style="background: white; padding: 16px; border-radius: 12px; margin-bottom: 12px; border: 2px solid var(--border-color);">
                            <strong>Emma, 15:</strong> Severe anxiety, self-harm thoughts, loving family
                        </div>
                    </div>
                    <div>
                        <h3 style="margin-bottom: 16px;">Select Best Level:</h3>
                        <label style="display: block; margin-bottom: 12px;"><input type="radio" name="sarah" value="PHP"> PHP - Partial Hospitalization</label>
                        <label style="display: block; margin-bottom: 12px;"><input type="radio" name="sarah" value="IOP"> IOP - Intensive Outpatient</label>
                        <hr style="margin: 20px 0;">
                        <label style="display: block; margin-bottom: 12px;"><input type="radio" name="mike" value="Residential"> Residential Treatment</label>
                        <label style="display: block; margin-bottom: 12px;"><input type="radio" name="mike" value="PHP"> PHP</label>
                        <hr style="margin: 20px 0;">
                        <label style="display: block; margin-bottom: 12px;"><input type="radio" name="emma" value="PHP"> PHP</label>
                        <label style="display: block; margin-bottom: 12px;"><input type="radio" name="emma" value="IOP"> IOP</label>
                    </div>
                </div>
                
                <button class="btn btn-primary" onclick="checkMatching()" style="margin-top: 24px;">Check My Answers</button>
                <div id="matchingResults"></div>
            `;
        }
        
        function checkMatching() {
            const answers = {
                sarah: document.querySelector('input[name="sarah"]:checked')?.value,
                mike: document.querySelector('input[name="mike"]:checked')?.value,
                emma: document.querySelector('input[name="emma"]:checked')?.value
            };
            
            const correct = { sarah: 'PHP', mike: 'Residential', emma: 'PHP' };
            let score = 0;
            
            if (answers.sarah === correct.sarah) score++;
            if (answers.mike === correct.mike) score++;
            if (answers.emma === correct.emma) score++;
            
            document.getElementById('matchingResults').innerHTML = `
                <div style="background: ${score === 3 ? '#d1fae5' : '#fee2e2'}; padding: 20px; border-radius: 12px; margin-top: 24px;">
                    <h3>${score === 3 ? '🎉 Perfect!' : score >= 2 ? '👍 Good Job!' : '📚 Keep Learning!'}</h3>
                    <p>You got ${score}/3 correct</p>
                    ${score < 3 ? '<p>Review the treatment ladder and think about severity and home safety.</p>' : '<p>Excellent clinical judgment!</p>'}
                </div>
            `;
        }
        
        function getLevelsLesson3() {
            return `
                <div style="margin-bottom: 24px;">
                    <div style="background: white; border: 2px solid var(--border-color); border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                        <h3 style="color: var(--primary-teal); margin-bottom: 12px;">Case 1: The Resistant Teen</h3>
                        <p><strong>Patient:</strong> Alex, 15, mandated by court after DUI</p>
                        <p><strong>Initial Plan:</strong> Parents wanted outpatient only</p>
                        <p style="background: #fff3cd; padding: 12px; border-radius: 8px; margin: 12px 0;"><strong>Challenge:</strong> Continued use, lying about attendance</p>
                        <p style="background: #cfe2ff; padding: 12px; border-radius: 8px; margin: 12px 0;"><strong>Intervention:</strong> Escalated to IOP with random drug testing</p>
                        <p style="background: #d1fae5; padding: 12px; border-radius: 8px; margin: 12px 0;"><strong>Outcome:</strong> 6 months sober, returned to school successfully</p>
                        <p style="background: #fff9e6; padding: 12px; border-radius: 8px; margin-top: 12px;"><strong>💡 Lesson:</strong> Sometimes starting lower and escalating is necessary for buy-in and family engagement</p>
                    </div>
                    
                    <div style="background: white; border: 2px solid var(--border-color); border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                        <h3 style="color: var(--primary-teal); margin-bottom: 12px;">Case 2: The High Achiever</h3>
                        <p><strong>Patient:</strong> Jordan, 17, straight-A student with hidden addiction</p>
                        <p><strong>Initial Plan:</strong> Residential recommended by previous therapist</p>
                        <p style="background: #fff3cd; padding: 12px; border-radius: 8px; margin: 12px 0;"><strong>Challenge:</strong> Family worried about missing school and college applications</p>
                        <p style="background: #cfe2ff; padding: 12px; border-radius: 8px; margin: 12px 0;"><strong>Intervention:</strong> PHP with academic support, then step down to IOP</p>
                        <p style="background: #d1fae5; padding: 12px; border-radius: 8px; margin: 12px 0;"><strong>Outcome:</strong> Maintained 4.0 GPA, got into first-choice college, 1 year sober</p>
                        <p style="background: #fff9e6; padding: 12px; border-radius: 8px; margin-top: 12px;"><strong>💡 Lesson:</strong> Balance treatment intensity with life goals - recovery doesn't mean giving up everything</p>
                    </div>
                    
                    <div style="background: white; border: 2px solid var(--border-color); border-radius: 12px; padding: 20px;">
                        <h3 style="color: var(--primary-teal); margin-bottom: 12px;">Case 3: The Repeat Visitor</h3>
                        <p><strong>Patient:</strong> Casey, 16, third treatment attempt in 2 years</p>
                        <p><strong>Initial Plan:</strong> Same 30-day residential program as previous attempts</p>
                        <p style="background: #fff3cd; padding: 12px; border-radius: 8px; margin: 12px 0;"><strong>Challenge:</strong> Previous programs didn't address underlying trauma</p>
                        <p style="background: #cfe2ff; padding: 12px; border-radius: 8px; margin: 12px 0;"><strong>Intervention:</strong> Trauma-focused residential with 90-day stay minimum</p>
                        <p style="background: #d1fae5; padding: 12px; border-radius: 8px; margin: 12px 0;"><strong>Outcome:</strong> 18 months sober, first successful completion, now peer mentor</p>
                        <p style="background: #fff9e6; padding: 12px; border-radius: 8px; margin-top: 12px;"><strong>💡 Lesson:</strong> Address root causes, not just symptoms - sometimes longer is better than more frequent</p>
                    </div>
                </div>
            `;
        }
        
        function getLevelsQuiz() {
            return `
                <div id="quiz">
                    ${generateQuizQuestion(0, 'Which level provides 24/7 medical supervision?', ['IOP', 'PHP', 'Medical Detox', 'Outpatient'], 2, 'Medical detox provides round-the-clock medical monitoring for safe withdrawal')}
                    ${generateQuizQuestion(1, 'PHP typically involves how many hours per day?', ['1-2 hours', '3-4 hours', '6+ hours', '24 hours'], 2, 'PHP is 6+ hours daily, 5 days a week')}
                    ${generateQuizQuestion(2, 'Best level for stable home but high clinical needs?', ['Residential', 'PHP', 'Outpatient', 'Sober Living'], 1, 'PHP provides intensive daily treatment while allowing evening family time')}
                    ${generateQuizQuestion(3, 'Red flag requiring immediate higher care?', ['Missing one session', 'Active suicidal ideation', 'Family conflict', 'School stress'], 1, 'Active suicidal ideation requires immediate intensive intervention')}
                    ${generateQuizQuestion(4, 'Best for maintaining school/work?', ['Residential', 'PHP', 'IOP', 'Detox'], 2, 'IOP evening schedule allows for daytime responsibilities')}
                </div>
                <button class="btn btn-primary" onclick="submitQuiz()" style="margin-top: 24px;">Submit Quiz</button>
                <div id="quizResults"></div>
            `;
        }
        
        function generateQuizQuestion(index, question, options, correct, explanation) {
            return `
                <div class="quiz-question" data-correct="${correct}" data-explanation="${explanation}">
                    <div style="background: var(--primary-teal); color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600; display: inline-block; margin-bottom: 12px;">Question ${index + 1}</div>
                    <div class="question-text">${question}</div>
                    <div class="options">
                        ${options.map((opt, i) => `
                            <label class="quiz-option">
                                <input type="radio" name="q${index}" value="${i}">
                                <span>${opt}</span>
                            </label>
                        `).join('')}
                    </div>
                    <div class="question-feedback" id="feedback${index}"></div>
                </div>
            `;
        }
        
        function initializeQuiz() {
            // Quiz is ready - handled by submitQuiz()
        }
        
        function submitQuiz() {
            const questions = document.querySelectorAll('.quiz-question');
            let correct = 0;
            
            questions.forEach((q, index) => {
                const selected = document.querySelector(`input[name="q${index}"]:checked`);
                const correctAnswer = parseInt(q.dataset.correct);
                const feedback = document.getElementById(`feedback${index}`);
                
                if (selected) {
                    const isCorrect = parseInt(selected.value) === correctAnswer;
                    if (isCorrect) correct++;
                    
                    feedback.className = `question-feedback ${isCorrect ? 'correct' : 'incorrect'}`;
                    feedback.innerHTML = `<strong>${isCorrect ? '✅ Correct!' : '❌ Incorrect'}</strong><p>${q.dataset.explanation}</p>`;
                }
            });
            
            const score = Math.round((correct / questions.length) * 100);
            const passed = score >= 80;
            
            document.getElementById('quizResults').innerHTML = `
                <div style="background: ${passed ? '#d1fae5' : '#fee2e2'}; padding: 32px; border-radius: 16px; text-align: center; margin-top: 24px; border: 3px solid ${passed ? 'var(--success-green)' : '#f87171'};">
                    <h3 style="font-size: 24px; margin-bottom: 8px;">${passed ? '🎉 Congratulations!' : '📚 Keep Learning!'}</h3>
                    <div style="font-size: 48px; font-weight: 700; color: var(--primary-teal); margin: 16px 0;">${score}%</div>
                    <p>${passed ? 'You passed! Great job mastering this material!' : `You scored ${score}%. Review the material and try again (need 80%).`}</p>
                    ${passed ? '<button class="btn btn-success" onclick="completeModule(\'levels\')" style="margin-top: 16px;">Complete Module →</button>' : ''}
                </div>
            `;
        }
        
        function getProfilesLesson1() {
            return `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 24px;">
                    <div style="padding: 20px; border-radius: 12px; background: #fee2e2; border-left: 4px solid #dc2626;">
                        <h4 style="color: #dc2626; margin-bottom: 12px;">Red Flags - Watch Out For:</h4>
                        <ul style="margin-left: 20px;">
                            <li style="margin-bottom: 8px;">No accreditation (CARF, Joint Commission)</li>
                            <li style="margin-bottom: 8px;">"Guaranteed results" - impossible to promise</li>
                            <li style="margin-bottom: 8px;">Vague clinical descriptions</li>
                            <li style="margin-bottom: 8px;">No licensed staff listed</li>
                            <li style="margin-bottom: 8px;">No exclusion criteria (accept everyone)</li>
                            <li style="margin-bottom: 8px;">Excessive isolation from family</li>
                            <li style="margin-bottom: 8px;">Proprietary untested methods</li>
                        </ul>
                    </div>
                    <div style="padding: 20px; border-radius: 12px; background: #d1fae5; border-left: 4px solid #16a34a;">
                        <h4 style="color: #16a34a; margin-bottom: 12px;">Green Flags - Look For:</h4>
                        <ul style="margin-left: 20px;">
                            <li style="margin-bottom: 8px;">CARF or Joint Commission accredited</li>
                            <li style="margin-bottom: 8px;">Licensed clinical director with experience</li>
                            <li style="margin-bottom: 8px;">Evidence-based practices (CBT, DBT, etc.)</li>
                            <li style="margin-bottom: 8px;">Published outcomes or success data</li>
                            <li style="margin-bottom: 8px;">Strong family involvement program</li>
                            <li style="margin-bottom: 8px;">Clear admission criteria</li>
                            <li style="margin-bottom: 8px;">Transparent about costs</li>
                        </ul>
                    </div>
                </div>
                <div style="background: #fff9e6; padding: 16px; border-radius: 12px; border-left: 4px solid #ffd43b;">
                    <strong>💡 Pro Tip:</strong> The best programs are transparent about what they do well AND what they don't treat. Be wary of programs claiming to help everyone with everything.
                </div>
            `;
        }
        
        function getProfilesLesson2() {
            return `
                <h3 style="margin-bottom: 16px;">Insurance Terms Decoded</h3>
                <div style="display: grid; gap: 12px;">
                    ${['Single Case Agreement: Negotiated rate for specific patient when out-of-network',
                      'Prior Authorization: Insurance approval needed before admission',
                      'Medical Necessity: Clinical justification required for coverage',
                      'Concurrent Review: Ongoing approval process during treatment',
                      'Deductible: Amount patient pays before insurance starts',
                      'Out-of-Pocket Maximum: Most patient will pay in a year'
                    ].map(term => `
                        <div style="background: white; padding: 16px; border-radius: 8px; border-left: 3px solid var(--primary-teal);">
                            <strong>${term.split(':')[0]}:</strong> ${term.split(':')[1]}
                        </div>
                    `).join('')}
                </div>
            `;
        }
        
        function getProfilesQuiz() {
            return '<p>Assessment quiz coming in next lesson!</p>';
        }
        
        function getFamilyLesson1() {
            return `
                <div style="background: var(--warm-cream); padding: 20px; border-radius: 12px; margin-bottom: 20px;">
                    <h4>Sample Opening Script:</h4>
                    <div style="background: white; padding: 20px; border-radius: 12px; line-height: 1.8; border-left: 4px solid var(--primary-teal); margin-top: 12px;">
                        "Thank you for taking the time to meet with me today. I know this has been a difficult journey for your family, and I want you to know that what you're doing - seeking help - is incredibly brave and important.
                        <br><br>
                        Based on my assessment and the clinical needs we've discussed, I've identified three programs that could be excellent fits for your family member. Each has unique strengths, and I'd like to walk through them together so you can make the best decision for your family.
                        <br><br>
                        Please ask questions at any time - there are no silly questions, and I want you to feel fully informed and comfortable with whatever path we choose together."
                    </div>
                </div>
                
                <div style="background: #dbeafe; padding: 20px; border-radius: 12px;">
                    <h4 style="margin-bottom: 12px; color: var(--primary-teal);">Key Communication Principles:</h4>
                    <ul style="margin-left: 20px;">
                        <li style="margin-bottom: 10px;"><strong>Start with validation</strong> - Acknowledge the difficulty and their bravery</li>
                        <li style="margin-bottom: 10px;"><strong>Use "we" language</strong> - You're a team together</li>
                        <li style="margin-bottom: 10px;"><strong>Speak plainly</strong> - Avoid jargon unless you explain it</li>
                        <li style="margin-bottom: 10px;"><strong>Invite questions</strong> - Make it conversational, not a lecture</li>
                        <li style="margin-bottom: 10px;"><strong>Provide written summaries</strong> - Families can't remember everything in crisis</li>
                        <li style="margin-bottom: 10px;"><strong>Show empathy</strong> - This is one of the hardest days of their lives</li>
                    </ul>
                </div>
            `;
        }
        
        function getFamilyLesson2() {
            return `
                <h3 style="margin-bottom: 16px;">Navigating Difficult Conversations</h3>
                ${[
                    { situation: 'Program is full', family: 'But you said this was perfect!', response: 'I know this is disappointing. Let\'s get on the waitlist AND identify excellent alternatives so you have options.' },
                    { situation: 'Insurance denied', family: 'We can\'t afford private pay!', response: 'This is incredibly stressful. We can appeal, seek single case agreement, or explore other programs. I\'ll help with the appeal letter.' },
                    { situation: 'Family disagrees', family: 'Residential is too extreme!', response: 'It does feel like a big step. Let\'s discuss your concerns and look at all options. We can start with IOP and reassess if needed.' }
                ].map(s => `
                    <div style="background: white; border: 2px solid var(--border-color); border-radius: 12px; padding: 20px; margin-bottom: 16px;">
                        <h4 style="color: var(--primary-teal);">${s.situation}</h4>
                        <div style="background: #fee2e2; padding: 12px; border-radius: 8px; margin: 12px 0;"><strong>Family Says:</strong> "${s.family}"</div>
                        <div style="background: #d1fae5; padding: 12px; border-radius: 8px;"><strong>Your Response:</strong> "${s.response}"</div>
                    </div>
                `).join('')}
            `;
        }
        
        function getFamilyLesson3() {
            return '<p>Cultural sensitivity content - understand family dynamics, language needs, religious considerations</p>';
        }
        
        // Complete Module
        function completeModule(moduleId) {
            moduleProgress[moduleId] = 100;
            localStorage.setItem('moduleProgress', JSON.stringify(moduleProgress));
            
            currentUser.stats.modules++;
            localStorage.setItem('userStats', JSON.stringify(currentUser.stats));
            document.getElementById('statModules').textContent = `${currentUser.stats.modules}/5`;
            
            const main = document.getElementById('mainContent');
            main.innerHTML = `
                <div class="completion">
                    <div class="completion-emoji">🎉</div>
                    <h2>Module Complete!</h2>
                    <p style="font-size: 18px; margin: 24px 0;">You've mastered new skills that will help families!</p>
                    <div class="completion-cert">
                        <h3 style="margin-bottom: 16px;">🏆 Certificate of Completion</h3>
                        <p style="font-size: 18px; margin: 8px 0;">${currentUser.name}</p>
                        <p style="margin: 8px 0;">${{levels: 'Understanding Levels of Care', profiles: 'Reading Program Profiles', family: 'Family Communication'}[moduleId]}</p>
                        <p>${new Date().toLocaleDateString()}</p>
                    </div>
                    <div style="margin-top: 32px;">
                        <button class="btn btn-secondary" onclick="showLearningCenter()">Back to Learning Center</button>
                        <button class="btn btn-primary" onclick="showLearningCenter()" style="margin-left: 16px;">Continue Learning →</button>
                    </div>
                </div>
            `;
        }
        
        // Program Explorer
        function showExplorer() {
            const main = document.getElementById('mainContent');
            main.innerHTML = `
                <div>
                    <h1 style="font-size: 32px; font-weight: 700; color: var(--primary-teal); margin-bottom: 32px;">Explore Treatment Programs</h1>
                    <p style="font-size: 16px; margin-bottom: 24px;">Use the Chrome extension to add programs from treatment websites, then browse and compare them here!</p>
                    
                    <div style="background: linear-gradient(135deg, var(--secondary-coral) 0%, #fa5252 100%); color: white; padding: 20px; border-radius: 16px; margin-bottom: 24px;">
                        <div style="font-size: 32px; margin-bottom: 12px;">📌</div>
                        <div style="font-weight: 600; margin-bottom: 4px;">Pro Tip: Build Your Library</div>
                        <div style="font-size: 14px; opacity: 0.9;">Install the CareConnect Chrome Extension to extract program data automatically from treatment websites!</div>
                    </div>
                    
                    <div id="programsList"></div>
                </div>
            `;
            
            loadPrograms();
        }
        
        function loadPrograms() {
            const programs = JSON.parse(localStorage.getItem('careconnect_programs') || '[]');
            const list = document.getElementById('programsList');
            
            if (programs.length === 0) {
                list.innerHTML = `
                    <div style="text-align: center; padding: 64px; background: white; border-radius: 20px;">
                        <div style="font-size: 64px; margin-bottom: 24px;">📋</div>
                        <h3 style="margin-bottom: 16px;">No Programs Yet</h3>
                        <p style="color: var(--warm-gray); margin-bottom: 24px;">Use the Chrome extension to add programs from treatment center websites</p>
                        <button class="btn btn-primary" onclick="alert('Install the CareConnect Chrome Extension from the chrome-extension-enhanced folder!')">How to Add Programs</button>
                    </div>
                `;
            } else {
                list.innerHTML = `
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px;">
                        ${programs.slice(0, 20).map(p => `
                            <div style="background: white; border-radius: 20px; padding: 24px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-top: 4px solid var(--primary-teal);">
                                <h3 style="font-size: 18px; margin-bottom: 8px;">${p.name}</h3>
                                <div style="font-size: 14px; color: var(--warm-gray); margin-bottom: 16px;">${p.location?.city || ''}, ${p.location?.state || ''}</div>
                                <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 16px;">
                                    ${(p.clinical?.levelsOfCare || []).slice(0, 2).map(l => `<span style="background: rgba(23, 162, 184, 0.1); color: var(--primary-teal); padding: 4px 12px; border-radius: 16px; font-size: 12px;">${l}</span>`).join('')}
                                </div>
                                <button class="btn btn-primary" onclick="alert('Full program details: ${p.name}')">View Details</button>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
        }
        
        // Compare View
        function showCompare() {
            const main = document.getElementById('mainContent');
            main.innerHTML = `
                <div>
                    <h1 style="font-size: 32px; font-weight: 700; color: var(--primary-teal); margin-bottom: 16px;">Compare Programs</h1>
                    <p style="font-size: 16px; margin-bottom: 32px;">Select programs from the Explore view, then compare them side-by-side here</p>
                    
                    <div style="text-align: center; padding: 64px; background: white; border-radius: 20px;">
                        <div style="font-size: 64px; margin-bottom: 24px;">⚖️</div>
                        <h3 style="margin-bottom: 16px;">Ready to Compare</h3>
                        <p style="color: var(--warm-gray);">Select 2-4 programs from the Explore tab to see side-by-side comparison</p>
                    </div>
                </div>
            `;
        }
        
        // Documents View
        function showDocuments() {
            const main = document.getElementById('mainContent');
            main.innerHTML = `
                <div>
                    <h1 style="font-size: 32px; font-weight: 700; color: var(--primary-teal); margin-bottom: 16px;">Create Documents</h1>
                    <p style="font-size: 16px; margin-bottom: 32px;">Professional aftercare documentation in minutes</p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 24px;">
                        <div style="background: white; border-radius: 20px; padding: 32px; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); cursor: pointer;" onclick="alert('Aftercare Options document wizard coming soon!')">
                            <div style="font-size: 48px; margin-bottom: 16px;">📋</div>
                            <h3 style="margin-bottom: 8px;">Aftercare Options</h3>
                            <p style="font-size: 14px; color: var(--warm-gray);">Present multiple program options to families</p>
                        </div>
                        <div style="background: white; border-radius: 20px; padding: 32px; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); cursor: pointer;" onclick="alert('Aftercare Plan wizard coming soon!')">
                            <div style="font-size: 48px; margin-bottom: 16px;">📝</div>
                            <h3 style="margin-bottom: 8px;">Aftercare Plan</h3>
                            <p style="font-size: 14px; color: var(--warm-gray);">Detailed plan with selected program</p>
                        </div>
                        <div style="background: white; border-radius: 20px; padding: 32px; text-align: center; box-shadow: 0 2px 8px rgba(0,0,0,0.1); cursor: pointer;" onclick="alert('Discharge Packet compiler coming soon!')">
                            <div style="font-size: 48px; margin-bottom: 16px;">📦</div>
                            <h3 style="margin-bottom: 8px;">Discharge Packet</h3>
                            <p style="font-size: 14px; color: var(--warm-gray);">Complete packet with all materials</p>
                        </div>
                    </div>
                </div>
            `;
        }
    </script>

<script>
// programs-data.js - Treatment programs database
// This data is loaded from your existing programs or can be populated via Chrome Extension

window.programsData = [
    {
        id: 'program_1',
        name: 'Charlie Health Virtual IOP Program',
        location: { city: 'Virtual', state: '', distance: null },
        type: 'Virtual Program',
        category: 'virtual',
        clinical: {
            levelsOfCare: ['IOP'],
            primaryFocus: 'Mental Health',
            specializations: ['Anxiety', 'Depression', 'Mental Health'],
            modalities: {
                evidenceBased: ['Group Therapy', 'Individual Therapy', 'Family Therapy'],
                experiential: [],
                holistic: []
            }
        },
        population: {
            ages: '13-25',
            gender: 'Co-ed',
            specialPopulations: []
        },
        structure: {
            lengthOfStay: '6-10 weeks',
            capacity: '',
            staffRatio: '',
            groupSize: ''
        },
        admissions: {
            insurance: ['Most Major Insurers'],
            privatePay: true,
            requirements: []
        },
        contact: {
            phone: '561.203.5396',
            email: '',
            contactPerson: 'Gabriella H.'
        },
        website: 'https://www.charliehealth.com',
        quality: {
            accreditations: [],
            memberships: []
        }
    },
    {
        id: 'program_2',
        name: 'The Last House',
        location: { city: 'Los Angeles', state: 'CA', distance: null },
        type: 'Sober Living',
        category: 'sober-living',
        clinical: {
            levelsOfCare: ['Sober Living'],
            primaryFocus: 'Substance Use Disorders',
            specializations: ['Substance Use', 'Recovery Support'],
            modalities: {
                evidenceBased: ['12-Step'],
                experiential: ['Community Activities'],
                holistic: []
            }
        },
        population: {
            ages: '18+',
            gender: 'Males Only',
            specialPopulations: ['Young Adults']
        },
        structure: {
            lengthOfStay: 'Flexible',
            capacity: '',
            staffRatio: '',
            groupSize: ''
        },
        admissions: {
            insurance: [],
            privatePay: true,
            requirements: []
        },
        contact: {
            phone: '866.677.0090',
            email: '',
            address: '3101 Ocean Park Blvd #302, Santa Monica, CA 90405'
        },
        website: 'https://thelasthouse.net',
        quality: {
            accreditations: [],
            memberships: []
        }
    },
    {
        id: 'program_3',
        name: 'Patton Sober Living Homes',
        location: { city: 'Dallas', state: 'TX', distance: null },
        type: 'Sober Living',
        category: 'sober-living',
        clinical: {
            levelsOfCare: ['Sober Living'],
            primaryFocus: 'Substance Use Disorders',
            specializations: ['Substance Use', 'Life Skills'],
            modalities: {
                evidenceBased: ['12-Step', 'Employment Coaching'],
                experiential: ['Life Skills Training'],
                holistic: []
            }
        },
        population: {
            ages: '18-25',
            gender: 'Males Only',
            specialPopulations: ['Young Adults']
        },
        structure: {
            lengthOfStay: 'Flexible',
            capacity: '',
            staffRatio: '',
            groupSize: ''
        },
        admissions: {
            insurance: [],
            privatePay: true,
            requirements: ['Employment or Education (25+ hrs/week)']
        },
        contact: {
            phone: '(469) 974-4639',
            email: '',
            contactPerson: 'Austin Shook, Program Director',
            address: '13028 Fall Manor Dr, Dallas, TX 75243'
        },
        website: 'https://pattonsoberliving.com/index.html',
        quality: {
            accreditations: [],
            memberships: []
        }
    },
    {
        id: 'program_4',
        name: 'Stonewater Adolescent Recovery Center',
        location: { city: 'Oxford', state: 'MS', distance: null },
        type: 'Residential Treatment',
        category: 'residential',
        clinical: {
            levelsOfCare: ['Residential', 'Detox'],
            primaryFocus: 'Dual Diagnosis',
            specializations: ['Substance Use', 'Mental Health', 'Dual Diagnosis'],
            modalities: {
                evidenceBased: ['Psychiatric Care', 'Individual Therapy', 'Family Therapy'],
                experiential: [],
                holistic: ['Faith-Based']
            }
        },
        population: {
            ages: 'Adolescents',
            gender: 'Males Only',
            specialPopulations: []
        },
        structure: {
            lengthOfStay: 'Variable',
            capacity: '',
            staffRatio: '',
            groupSize: ''
        },
        admissions: {
            insurance: ['Most Major Insurers'],
            privatePay: true,
            requirements: []
        },
        contact: {
            phone: '(570) 222-3449',
            email: 'info@serenitylodgerecovery.com',
            contactPerson: 'Bridget Norris',
            address: '21 Weida Ct Nicholson, PA 18446'
        },
        website: 'https://stonewaterrecovery.com',
        quality: {
            accreditations: [],
            memberships: []
        }
    },
    {
        id: 'program_5',
        name: 'Resilience Recovery Residences',
        location: { city: 'West Palm Beach', state: 'FL', distance: null },
        type: 'Sober Living',
        category: 'sober-living',
        clinical: {
            levelsOfCare: ['Sober Living', 'IOP'],
            primaryFocus: 'Substance Use Disorders',
            specializations: ['Substance Use', 'Recovery Support'],
            modalities: {
                evidenceBased: ['12-Step', 'IOP', 'Therapy'],
                experiential: [],
                holistic: []
            }
        },
        population: {
            ages: '16+',
            gender: 'Males Only',
            specialPopulations: ['Young Adults']
        },
        structure: {
            lengthOfStay: 'Phased (60-120+ days)',
            capacity: '',
            staffRatio: '',
            groupSize: ''
        },
        admissions: {
            insurance: [],
            privatePay: true,
            requirements: ['Completed Primary Treatment']
        },
        contact: {
            phone: '424-254-4304',
            email: '',
            contactPerson: 'Christopher Martinez, Owner',
            address: '3011 Poinsettia Ave, West Palm Beach, FL 33407'
        },
        website: 'www.resiliencerecoveryresources.com',
        quality: {
            accreditations: [],
            memberships: []
        }
    },
    {
        id: 'program_6',
        name: 'The Insight Program',
        location: { city: 'Tampa', state: 'FL', distance: null },
        type: 'IOP',
        category: 'outpatient',
        clinical: {
            levelsOfCare: ['IOP'],
            primaryFocus: 'Substance Use Disorders',
            specializations: ['Substance Use', 'Co-Occurring Disorders'],
            modalities: {
                evidenceBased: ['Individual Therapy', 'Family Therapy', '12-Step'],
                experiential: [],
                holistic: []
            }
        },
        population: {
            ages: '13-25',
            gender: 'Co-ed',
            specialPopulations: ['Adolescents', 'Young Adults']
        },
        structure: {
            lengthOfStay: 'Variable',
            capacity: '',
            staffRatio: '',
            groupSize: ''
        },
        admissions: {
            insurance: ['Most Major Insurers'],
            privatePay: true,
            requirements: []
        },
        contact: {
            phone: '470-505-9786',
            email: '',
            contactPerson: 'Adam Schwartz',
            address: '13944 Lynmar Blvd, Tampa, FL 33626'
        },
        website: 'https://theinsightprogram.com/',
        quality: {
            accreditations: [],
            memberships: []
        }
    },
    {
        id: 'program_7',
        name: 'Turnbridge Residential',
        location: { city: 'New Haven', state: 'CT', distance: null },
        type: 'Residential Treatment',
        category: 'residential',
        clinical: {
            levelsOfCare: ['Residential', 'Sober Living'],
            primaryFocus: 'Dual Diagnosis',
            specializations: ['Substance Use', 'Mental Health', 'Life Skills'],
            modalities: {
                evidenceBased: ['Therapy', 'Medication Management'],
                experiential: ['Recreation', 'Wellness Activities'],
                holistic: []
            }
        },
        population: {
            ages: 'Young Adults',
            gender: 'Co-ed',
            specialPopulations: []
        },
        structure: {
            lengthOfStay: 'Long-term (Phased)',
            capacity: '',
            staffRatio: '',
            groupSize: ''
        },
        admissions: {
            insurance: ['Most Major Insurers'],
            privatePay: true,
            requirements: []
        },
        contact: {
            phone: '512.921.3533',
            email: 'blegacki@turnbridge.com',
            contactPerson: 'Beth Legacki',
            address: '189 Orange Street, New Haven, CT 06510'
        },
        website: 'www.turnbridge.com',
        quality: {
            accreditations: [],
            memberships: []
        }
    },
    {
        id: 'program_8',
        name: 'Greater Nashua Mental Health',
        location: { city: 'Nashua', state: 'NH', distance: null },
        type: 'IOP',
        category: 'outpatient',
        clinical: {
            levelsOfCare: ['IOP'],
            primaryFocus: 'Dual Diagnosis',
            specializations: ['Substance Use', 'Mental Health'],
            modalities: {
                evidenceBased: ['Group Therapy', 'Individual Therapy', 'Family Therapy', 'Psychiatric Services'],
                experiential: [],
                holistic: []
            }
        },
        population: {
            ages: 'Adolescents',
            gender: 'Co-ed',
            specialPopulations: []
        },
        structure: {
            lengthOfStay: 'Variable',
            capacity: '',
            staffRatio: '',
            groupSize: ''
        },
        admissions: {
            insurance: ['Most Commercial Plans'],
            privatePay: true,
            requirements: []
        },
        contact: {
            phone: '603.401.1597',
            email: '',
            address: '15 Prospect Street, Nashua, NH 03060'
        },
        website: 'https://gnmhc.org/',
        quality: {
            accreditations: [],
            memberships: []
        }
    },
    {
        id: 'program_9',
        name: 'Directions Behavioral Health',
        location: { city: 'Nashua', state: 'NH', distance: null },
        type: 'PHP/IOP',
        category: 'outpatient',
        clinical: {
            levelsOfCare: ['PHP', 'IOP'],
            primaryFocus: 'Mental Health',
            specializations: ['Mental Health', 'Substance Use'],
            modalities: {
                evidenceBased: ['Group Therapy', 'Psychiatric Services'],
                experiential: [],
                holistic: []
            }
        },
        population: {
            ages: 'Adolescents & Young Adults',
            gender: 'Co-ed',
            specialPopulations: []
        },
        structure: {
            lengthOfStay: 'Variable',
            capacity: '',
            staffRatio: '',
            groupSize: ''
        },
        admissions: {
            insurance: ['Most Commercial Plans'],
            privatePay: true,
            requirements: []
        },
        contact: {
            phone: '603.880.8188',
            email: '',
            address: '25 Technology Way, Nashua, NH 03060'
        },
        website: 'https://www.directionbehavioralhealth.com/',
        quality: {
            accreditations: [],
            memberships: []
        }
    },
    {
        id: 'program_10',
        name: 'In Balance Academy',
        location: { city: 'Tucson', state: 'AZ', distance: null },
        type: 'Therapeutic Boarding School',
        category: 'therapeutic-school',
        clinical: {
            levelsOfCare: ['Residential'],
            primaryFocus: 'Therapeutic Education',
            specializations: ['Character Development', 'Academic Support'],
            modalities: {
                evidenceBased: ['Family Therapy', 'Individual Therapy'],
                experiential: ['Service Learning', 'Mentorship'],
                holistic: ['Values-Based']
            }
        },
        population: {
            ages: 'Adolescents',
            gender: 'Males Only',
            specialPopulations: []
        },
        structure: {
            lengthOfStay: '12-18 months',
            capacity: '',
            staffRatio: '',
            groupSize: ''
        },
        admissions: {
            insurance: ['Most Major Insurers'],
            privatePay: true,
            requirements: []
        },
        contact: {
            phone: '801.369.0238',
            email: 'ptaylor@livestronghouse.com',
            contactPerson: 'Tiffany, Director of Admissions',
            address: '195 25th Street, Suite 300, Ogden, UT 84401'
        },
        website: 'www.inbalanceacademy.com',
        quality: {
            accreditations: [],
            memberships: []
        }
    }
];

// Save to localStorage for persistence
try {
    localStorage.setItem('careconnect_programs', JSON.stringify(window.programsData));
    console.log(`[Programs] Loaded ${window.programsData.length} programs into storage`);
} catch (e) {
    console.warn('[Programs] Could not save to localStorage:', e);
}

</script>
</body>
</html>
